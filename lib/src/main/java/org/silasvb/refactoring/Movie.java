/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package org.silasvb.refactoring;

import org.silasvb.refactoring.price.ChildrensMoviePrice;
import org.silasvb.refactoring.price.NewReleasePrice;
import org.silasvb.refactoring.price.Price;
import org.silasvb.refactoring.price.RegularPrice;
import org.silasvb.refactoring.renterpoints.BasicRenterPoints;
import org.silasvb.refactoring.renterpoints.NewReleaseRenterPoints;
import org.silasvb.refactoring.renterpoints.RenterPoints;

public class Movie {

  public static Movie newChildrensMovie(String title) {
    return new Movie(title, new ChildrensMoviePrice(), new BasicRenterPoints());
  }

  public static Movie newNewRelease(String title) {
    return new Movie(title, new NewReleasePrice(), new NewReleaseRenterPoints());
  }

  public static Movie newRegularMovie(String title) {
    return new Movie(title, new RegularPrice(), new BasicRenterPoints());
  }

  private final String title;

  private final Price price;
  private final RenterPoints renterPoints;

  protected Movie(String title, Price price, RenterPoints renterPoints) {
    this.title = title;
    this.price = price;
    this.renterPoints = renterPoints;
  }

  public String getTitle() {
    return title;
  }

  public double getCharge(int daysRented) {
    return price.getCharge(daysRented);
  }

  public int getFrequentRenterPoints(int duration) {
    return renterPoints.getRenterPoints(duration);
  }
}
